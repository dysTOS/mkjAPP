<p-tabView>
    <p-tabPanel header="Daten">
        <div class="card">
            <div class="grid col-12 flex justify-content-center">
                <mkj-content-loader [loading]="loading">
                    <mkj-mitglied-form
                        [formGroup]="formGroup"
                    ></mkj-mitglied-form>
                    <div class="col-12 flex justify-content-end">
                        <button
                            pButton
                            [icon]="
                                mitgliedSaving
                                    ? 'pi pi-spin pi-spinner'
                                    : 'pi pi-save'
                            "
                            label="Daten speichern"
                            [disabled]="
                                formGroup.pristine ||
                                formGroup.invalid ||
                                mitgliedSaving
                            "
                            (click)="saveMitglied()"
                        ></button>
                    </div>
                </mkj-content-loader>
            </div>
        </div>
    </p-tabPanel>
    <p-tabPanel
        *ngIf="canAssignRoles && formGroup.controls.user_id.value"
        header="Rollen"
    >
        <mitglied-roles-picker
            [userId]="formGroup.controls.user_id.value"
            (touched)="rolesTouched = $event"
        ></mitglied-roles-picker
    ></p-tabPanel>
</p-tabView>
