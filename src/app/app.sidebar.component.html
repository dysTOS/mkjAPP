<div
    class="layout-sidebar"
    [ngStyle]="{ overflow: appMain.sidebarActive ? 'hidden' : 'visible' }"
    [ngClass]="{ 'layout-sidebar-dark': themeService.darkMode }"
    (click)="appMain.onSidebarClick($event)"
>
    <div class="layout-tabmenu">
        <ng-container *ngFor="let menuItem of menuService.MainMenu">
            <ul *ngIf="menuItem.visible" class="layout-tabmenu-nav">
                <li
                    [ngClass]="{
                        'active-item':
                            appMain.activeTabIndex === menuItem.enumLabel
                    }"
                >
                    <a
                        pRipple
                        [href]="menuItem.routerLink"
                        class="tabmenuitem-link"
                        [pTooltip]="menuItem.label"
                        (click)="
                            menuItem.command
                                ? menuItem.command()
                                : appMain.onTabClick($event, menuItem.enumLabel)
                        "
                        ><i [class]="menuItem.icon"></i
                    ></a>
                </li>
            </ul>
        </ng-container>

        <!-- TABMENU CONTENTS ------------------------------------------------------------------------------------------------------------------>

        <div class="layout-tabmenu-contents">
            <ng-container *ngFor="let menuItem of menuService.MainMenu">
                <div
                    *ngIf="menuItem.children && menuItem.visible"
                    class="layout-tabmenu-content"
                    [ngClass]="{
                        'layout-tabmenu-content-active':
                            appMain.activeTabIndex === menuItem.enumLabel
                    }"
                >
                    <div class="layout-submenu-title clearfix">
                        <span>{{ menuItem.label }}</span>
                        <a
                            href="#"
                            class="menu-button pi pi-bars"
                            (click)="appMain.closeSidebar($event)"
                        ></a>
                    </div>
                    <app-sidebarTabContent>
                        <div class="menu-scroll-content">
                            <ul class="navigation-menu">
                                <li *ngFor="let childItem of menuItem.children">
                                    <a
                                        [href]="childItem.routerLink"
                                        (click)="
                                            childItem.command
                                                ? childItem.command()
                                                : null
                                        "
                                    >
                                        <i [class]="childItem.icon"></i>
                                        <span>{{ childItem.label }}</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </app-sidebarTabContent>
                </div>
            </ng-container>
        </div>
    </div>
</div>
