<p-table
    #notenTable
    [value]="notenArray"
    [loading]="loading"
    [globalFilterFields]="['titel', 'komponist', 'gattung', 'inventarId']"
    styleClass="p-datatable-striped p-datatable-sm p-datatable-noten"
    dataKey="id"
    responsiveLayout="scroll"
    stateStorage="local"
    stateKey="notenTable-local"
    (onFilter)="setFilteredRows($event)"
>
    <ng-template pTemplate="caption">
        <div
            class="p-d-flex p-flex-column p-flex-md-row p-jc-md-between p-ai-center"
        >
            <div>
                Anzahl:
                {{ selectedNoten ? selectedNoten?.length + "/" : ""
                }}{{ notenArray?.length }}
            </div>
            <span class="p-input-icon-left">
                <i class="pi pi-search"></i>
                <input
                    pInputText
                    type="text"
                    (input)="
                        notenTable.filterGlobal($event.target.value, 'contains')
                    "
                    placeholder="Suchen..."
                />
            </span>
        </div>
    </ng-template>
    <ng-template pTemplate="header"
        ><tr>
            <th pSortableColumn="inventarId">
                Inv. Nr <p-sortIcon field="inventarId"></p-sortIcon>
            </th>
            <th pSortableColumn="titel">
                Titel <p-sortIcon field="titel"></p-sortIcon>
            </th>
            <th class="not-on-small">Komponist</th>
            <th class="not-on-small">Arrangeur</th>
            <th class="not-on-small">Verlag</th>
            <th class="not-on-small">Gattung</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-noten>
        <tr>
            <td>{{ noten.inventarId }}</td>
            <td>
                {{ noten.titel }}
            </td>
            <td class="not-on-small">
                {{ noten.komponist }}
            </td>
            <td class="not-on-small">{{ noten.arrangeur }}</td>
            <td class="not-on-small">{{ noten.verlag }}</td>
            <td class="not-on-small">{{ noten.gattung }}</td>
        </tr>
    </ng-template>
</p-table>
